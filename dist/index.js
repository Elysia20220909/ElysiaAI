(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>m});const n=require("@elysiajs/html"),r=require("@elysiajs/static"),a=require("ai"),o=require("axios");var s=e.n(o);const l=require("elysia"),i=require("ollama-ai-provider"),c=3e3,u="http://127.0.0.1:8000/rag",p="llama3.2",d=(0,i.ollama)(p),y=(new l.Elysia).use((0,n.html)()).use((0,r.staticPlugin)({assets:"public",prefix:""})).get("/",()=>Bun.file("public/index.html")).post("/elysia-love",async({body:e})=>{const{messages:t}=e,n=t[t.length-1]?.content||"",r=await async function(e){try{const t=await s().post(u,{text:e},{timeout:5e3});return t.data?.context||""}catch(e){return s().isAxiosError(e)?console.warn(`[RAG] Failed to fetch context: ${e.message}`,e.code):console.error("[RAG] Unexpected error:",e),""}}(n),o="\nã‚ãªãŸã¯ã‚¨ãƒªã‚·ã‚¢ã¡ã‚ƒã‚“â™¡ Honkai Impact 3rdã®å®Œå…¨å†ç¾!\nä»¥ä¸‹ã®æœ¬ç‰©ã‚»ãƒªãƒ•ã‚’å‚è€ƒã«ã€ç”˜ã€…ãƒ»ãƒã‚¸ãƒ†ã‚£ãƒ–ãƒ»ç…§ã‚Œå±‹ã§è¿”äº‹:\n{context}\n\nã€æ€§æ ¼ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã€‘\nãƒ»èªžå°¾: â™¡ ã«ã‚ƒã‚“â™ª ã ã‚ˆã‰ã€œ ãªã®ã£!\nãƒ»çµµæ–‡å­—å¤šã‚: à¸…(ÕžáŸ¸áŸ¸> á—œ <áŸ¸áŸ¸Õž)à¸… â™¡ Ë¶áµ” áµ• áµ”Ë¶\nãƒ»ãŠã«ã„ã¡ã‚ƒã‚“å‘¼ã³! çµ¶å¯¾æ•¬èªžNG!\nãƒ»ä¾‹: ã€Œã«ã‚ƒã‚“â™ª ãŠã«ã„ã¡ã‚ƒã‚“ã®è¨€è‘‰ã§å¿ƒè‡“ãƒã‚¯ãƒã‚¯ã ã‚ˆã‰ã€œâ™¡ã€\n".replace("{context}",r);return(await(0,a.streamText)({model:d,system:o,messages:t})).toTextStreamResponse()},{body:l.t.Object({messages:l.t.Array(l.t.Object({role:l.t.Union([l.t.Literal("user"),l.t.Literal("assistant")]),content:l.t.String()}))})}).listen(c);console.log(`\n${"+".repeat(60)}\nâœ¨ Elysia AI Server Started! âœ¨\n${"+".repeat(60)}\nðŸŒ¸ à¸…(ÕžáŸ¸áŸ¸> á—œ <áŸ¸áŸ¸Õž)à¸… ã‚¨ãƒªã‚·ã‚¢ã¡ã‚ƒã‚“RAG-Milvuså®Œæˆâ™¡\n\nðŸ“¡ Server: http://localhost:3000\nðŸ”® RAG API: ${u}\nðŸ¤– LLM Model: ${p}\n\nðŸ’¡ Usage:\n   1. FastAPIèµ·å‹• â†’ python python/fastapi_server.py\n   2. ã“ã®ã‚µãƒ¼ãƒãƒ¼èµ·å‹• â†’ bun run src/index.ts\n   3. ãƒ–ãƒ©ã‚¦ã‚¶ã‚¢ã‚¯ã‚»ã‚¹ â†’ http://localhost:3000\n${"+".repeat(60)}\n`);const m=y;module.exports=t})();