# Environment Variables Template
# Copy this file to .env and update the values

# ============================================================================
# Security Settings (REQUIRED - CHANGE THESE!)
# ============================================================================

# JWT Secret Keys (Generate strong random strings)
# Generate with: openssl rand -hex 32
JWT_SECRET=your-super-secret-jwt-key-change-this-immediately-or-security-risk
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-immediately-or-security-risk

# Authentication
# Default credentials for the built-in "elysia" user
AUTH_USERNAME=elysia
AUTH_PASSWORD=your-strong-password-here

# Database (Prisma)
# Example for SQLite: file:./data/elysia.db
# For Postgres: postgres://user:pass@localhost:5432/elysia
DATABASE_URL=file:./data/elysia.db

# ============================================================================
# Server Configuration
# ============================================================================

# Port settings
PORT=3000
FASTAPI_PORT=8000
NETWORK_SIM_PORT=8001

# Host settings
HOST=localhost
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ============================================================================
# Redis Configuration (Optional)
# ============================================================================

# Enable Redis for rate limiting (falls back to in-memory if disabled)
REDIS_ENABLED=false
REDIS_URL=redis://localhost:6379
REDIS_DB=0

# Redis connection options
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY_MS=1000

# ============================================================================
# Rate Limiting
# ============================================================================

# Global RPM for auth & chat protections
RATE_LIMIT_RPM=60

# Rate limit for chat endpoint
RATE_LIMIT_CHAT_MAX=20
RATE_LIMIT_CHAT_WINDOW_MS=60000

# Rate limit for feedback endpoint
RATE_LIMIT_FEEDBACK_MAX=10
RATE_LIMIT_FEEDBACK_WINDOW_MS=60000

# Rate limit for knowledge endpoint
RATE_LIMIT_KNOWLEDGE_MAX=30
RATE_LIMIT_KNOWLEDGE_WINDOW_MS=60000

# ============================================================================
# AI/LLM Configuration
# ============================================================================

# Ollama settings
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2

# Model override used by the gateway
MODEL_NAME=llama3.2

# OpenAI fallback (if configured)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini

# ============================================================================
# OAuth 2.0 Configuration
# ============================================================================

# OAuth 2.0 Client Credentials (Google, GitHub, Azure, etc.)
# CRITICAL: Store these values in .env (NOT in .env.example or version control)
# Generate from your OAuth provider's console
OAUTH_CLIENT_ID=
OAUTH_CLIENT_SECRET=

# OAuth Provider settings (uncomment and configure as needed)
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=
# GITHUB_CLIENT_ID=
# GITHUB_CLIENT_SECRET=
# AZURE_CLIENT_ID=
# AZURE_CLIENT_SECRET=
# AZURE_TENANT_ID=

# OAuth callback/redirect URI
OAUTH_CALLBACK_URL=http://localhost:3000/auth/callback

# ============================================================================
# Twitter/X API Configuration
# ============================================================================

# Twitter API v2 Credentials
# Get these from https://developer.twitter.com/en/portal/dashboard
# CRITICAL: Store in .env (NOT in .env.example or version control)
TWITTER_API_KEY=your-api-key-here
TWITTER_API_KEY_SECRET=your-api-key-secret-here
TWITTER_BEARER_TOKEN=your-bearer-token-here
TWITTER_ACCESS_TOKEN=your-access-token-here
TWITTER_ACCESS_TOKEN_SECRET=your-access-token-secret-here

# Twitter OAuth 2.0 (if using OAuth 2.0)
TWITTER_CLIENT_ID=your-client-id-if-applicable
TWITTER_CLIENT_SECRET=your-client-secret-if-applicable

# Twitter API callback URL
TWITTER_CALLBACK_URL=http://localhost:3000/auth/twitter/callback

# ============================================================================

# FastAPI RAG service
FASTAPI_BASE_URL=http://localhost:8000

# Milvus configuration
MILVUS_HOST=localhost
MILVUS_PORT=19530

# ============================================================================
# VOICEVOX Configuration
# ============================================================================

# VOICEVOX engine URL
VOICEVOX_BASE_URL=http://localhost:50021

# Speaker settings
VOICEVOX_SPEAKER_ID=2

# ============================================================================
# Logging
# ============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log file paths
LOG_FILE_PATH=./logs/app.log
ERROR_LOG_FILE_PATH=./logs/error.log

# JSONL data paths
FEEDBACK_LOG_PATH=./data/feedback.jsonl
KNOWLEDGE_LOG_PATH=./data/knowledge.jsonl
VOICE_LOG_PATH=./data/voice_log.jsonl

# ============================================================================
# Data Retention
# ============================================================================

# Maximum log file size in MB before rotation
MAX_LOG_SIZE_MB=50

# Maximum number of voice logs to keep
MAX_VOICE_LOGS=100

# ============================================================================
# Security Headers
# ============================================================================

# Content Security Policy
CSP_ENABLED=true

# Allowed domains for CSP
CSP_SCRIPT_SRC=self,unsafe-inline,https://unpkg.com
CSP_STYLE_SRC=self,unsafe-inline

# ============================================================================
# Production Settings (Set in production environment)
# ============================================================================

# Node environment
NODE_ENV=development

# Force HTTPS
FORCE_HTTPS=false

# Session settings
SESSION_SECRET=your-session-secret-change-this
SESSION_MAX_AGE=86400000

# ============================================================================
# Monitoring (Optional)
# ============================================================================

# Enable Prometheus metrics
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# Enable health check endpoint
HEALTH_CHECK_ENABLED=true

# ============================================================================
# Cloud Deployment (Optional)
# ============================================================================

# AWS settings
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# GCP settings
GCP_PROJECT_ID=
GCP_REGION=us-central1

# ============================================================================
# Development Tools
# ============================================================================

# Enable debug mode
DEBUG=false

# Enable hot reload
HOT_RELOAD=true

# Enable source maps
SOURCE_MAPS=true
